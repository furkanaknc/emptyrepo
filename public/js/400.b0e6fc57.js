"use strict";(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[400],{5400:function(e,a,t){t.r(a),t.d(a,{default:function(){return ee}});var s=t(3396),i=t(9242),l=t(7139);const n=e=>((0,s.dD)("data-v-2f818b2b"),e=e(),(0,s.Cn)(),e),r={class:"admin-page"},o={class:"page-card mx-auto"},m={key:1,class:"add-new mx-auto"},d=n((()=>(0,s._)("h2",null,"Add New Human",-1))),u={class:"mb-3"},c=n((()=>(0,s._)("label",{for:"newFirstName",class:"form-label"},"First Name:",-1))),p={class:"mb-3"},N=n((()=>(0,s._)("label",{for:"newLastName",class:"form-label"},"Last Name:",-1))),w={class:"mb-3"},b=n((()=>(0,s._)("label",{for:"newRelation",class:"form-label"},"Relation:",-1))),h=n((()=>(0,s._)("option",{value:"sildi"},"SİL GİTSİN",-1))),_=n((()=>(0,s._)("option",{value:"silmedi"},"SİLME",-1))),f=[h,_],H={class:"buttons"},F=n((()=>(0,s._)("button",{type:"submit",class:"btn btn-primary rounded-pill"},"Ekle",-1))),g={key:2,class:"list-group list-of-humans mx-auto"},D=n((()=>(0,s._)("h2",null,"Listedeki Kişiler",-1))),L=n((()=>(0,s._)("strong",null,"ADI:",-1))),k=n((()=>(0,s._)("hr",null,null,-1))),y=n((()=>(0,s._)("strong",null,"SOYADI:",-1))),U=n((()=>(0,s._)("hr",null,null,-1))),v=n((()=>(0,s._)("strong",null,"SİLDİN Mİ:",-1))),z={class:"buttons"},V=["onClick"],R=["onClick"],x={key:3,class:"update-card mx-auto"},C=n((()=>(0,s._)("h2",null,"Update Human",-1))),A={class:"mb-3"},S=n((()=>(0,s._)("label",{for:"updateFirstName",class:"form-label"},"First Name:",-1))),q={class:"mb-3"},E=n((()=>(0,s._)("label",{for:"updateLastName",class:"form-label"},"Last Name:",-1))),M={class:"mb-3"},T=n((()=>(0,s._)("label",{for:"updateRelation",class:"form-label"},"Relation:",-1))),I=n((()=>(0,s._)("option",{value:"sildi"},"SİL GİTSİN",-1))),Z=n((()=>(0,s._)("option",{value:"silmedi"},"SİLME",-1))),G=[I,Z],K={class:"buttons"},P=n((()=>(0,s._)("button",{type:"submit",class:"btn btn-primary rounded-pill"},"Güncelle",-1))),Y={key:4,class:"delete-card mx-auto"},O=n((()=>(0,s._)("h2",null,"Delete Human",-1))),j={class:"buttons"};function B(e,a,t,n,h,_){return(0,s.wg)(),(0,s.iD)("div",r,[(0,s._)("div",o,[h.isAddNewFormVisible||h.isUpdateFormVisible||h.deleteHuman?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:a[0]||(a[0]=e=>h.isAddNewFormVisible=!0),class:"btn btn-primary rounded-pill"},"Kişi Ekle")),h.isAddNewFormVisible&&!h.isUpdateFormVisible?((0,s.wg)(),(0,s.iD)("div",m,[d,(0,s._)("form",{onSubmit:a[5]||(a[5]=(0,i.iM)(((...e)=>_.addNewHuman&&_.addNewHuman(...e)),["prevent"]))},[(0,s._)("div",u,[c,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":a[1]||(a[1]=e=>_.capitalizedNewFirstName=e),type:"text",id:"newFirstName",class:"form-control",required:""},null,512),[[i.nr,_.capitalizedNewFirstName]])]),(0,s._)("div",p,[N,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":a[2]||(a[2]=e=>_.capitalizedNewLastName=e),type:"text",id:"newLastName",class:"form-control",required:""},null,512),[[i.nr,_.capitalizedNewLastName]])]),(0,s._)("div",w,[b,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":a[3]||(a[3]=e=>h.newRelation=e),id:"newRelation",class:"form-select",required:""},f,512),[[i.bM,h.newRelation]])]),(0,s._)("div",H,[F,(0,s._)("button",{onClick:a[4]||(a[4]=(...e)=>_.closeForm&&_.closeForm(...e)),class:"btn btn-secondary rounded-pill"},"Kapat")])],32)])):(0,s.kq)("",!0),h.isAddNewFormVisible||h.deleteHuman||h.isUpdateFormVisible?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",g,[D,(0,s._)("ul",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(h.humans,((e,a)=>((0,s.wg)(),(0,s.iD)("li",{class:"list-group-item",key:a},[(0,s._)("p",null,[L,(0,s.Uk)((0,l.zw)(e.firstName),1)]),k,(0,s._)("p",null,[y,(0,s.Uk)((0,l.zw)(e.lastName),1)]),U,(0,s._)("p",null,[v,(0,s.Uk)((0,l.zw)(e.relation),1)]),(0,s._)("div",z,[(0,s._)("button",{onClick:a=>_.openUpdateForm(e),class:"btn btn-primary rounded-pill"},"Güncelle",8,V),(0,s._)("button",{onClick:a=>h.deleteHuman=e,class:"btn btn-danger rounded-pill"},"Sil",8,R)])])))),128))])])),h.isUpdateFormVisible?((0,s.wg)(),(0,s.iD)("div",x,[C,(0,s._)("form",{onSubmit:a[10]||(a[10]=(0,i.iM)(((...e)=>_.updateHumanRecord&&_.updateHumanRecord(...e)),["prevent"]))},[(0,s._)("div",A,[S,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":a[6]||(a[6]=e=>_.capitalizedUpdateFirstName=e),type:"text",id:"updateFirstName",class:"form-control",required:""},null,512),[[i.nr,_.capitalizedUpdateFirstName]])]),(0,s._)("div",q,[E,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":a[7]||(a[7]=e=>_.capitalizedUpdateLastName=e),type:"text",id:"updateLastName",class:"form-control",required:""},null,512),[[i.nr,_.capitalizedUpdateLastName]])]),(0,s._)("div",M,[T,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":a[8]||(a[8]=e=>h.updateHumanData.relation=e),id:"updateRelation",class:"form-select",required:""},G,512),[[i.bM,h.updateHumanData.relation]])]),(0,s._)("div",K,[P,(0,s._)("button",{onClick:a[9]||(a[9]=(...e)=>_.cancelUpdate&&_.cancelUpdate(...e)),class:"btn btn-secondary rounded-pill"},"İptal")])],32)])):(0,s.kq)("",!0),h.deleteHuman?((0,s.wg)(),(0,s.iD)("div",Y,[O,(0,s._)("p",null,[(0,s._)("strong",null,(0,l.zw)(h.deleteHuman.firstName)+" "+(0,l.zw)(h.deleteHuman.lastName),1),(0,s.Uk)(" kişisini silmek istiyor musun?")]),(0,s._)("div",j,[(0,s._)("button",{onClick:a[11]||(a[11]=(...e)=>_.confirmDelete&&_.confirmDelete(...e)),class:"btn btn-danger rounded-pill"},"Evet"),(0,s._)("button",{onClick:a[12]||(a[12]=(...e)=>_.cancelDelete&&_.cancelDelete(...e)),class:"btn btn-secondary rounded-pill"},"Hayır")])])):(0,s.kq)("",!0)])])}var J=t(4161),Q=t(65),W={computed:{...(0,Q.Se)(["humans","user"]),capitalizedNewFirstName:{get(){return this.newFirstName},set(e){this.newFirstName=this.capitalizeText(e)}},capitalizedNewLastName:{get(){return this.newLastName},set(e){this.newLastName=this.capitalizeText(e)}},capitalizedUpdateFirstName:{get(){return this.updateHumanData.newFirstName},set(e){this.updateHumanData.newFirstName=this.capitalizeText(e)}},capitalizedUpdateLastName:{get(){return this.updateHumanData.newLastName},set(e){this.updateHumanData.newLastName=this.capitalizeText(e)}}},data(){return{newFirstName:"",newLastName:"",newRelation:"",isAddNewFormVisible:!1,isUpdateFormVisible:!1,humans:[],updateHuman:null,deleteHuman:null,updateHumanData:{firstName:"",lastName:"",newFirstName:"",newLastName:"",relation:""}}},methods:{capitalizeText(e){return e.charAt(0).toLocaleUpperCase("tr")+e.slice(1).toLocaleLowerCase("tr")},async addNewHuman(){try{const e=this.humans.some((e=>e.firstName===this.newFirstName&&e.lastName===this.newLastName));if(e)return;const a=await J.Z.post("/api/users/setRelation",{firstName:this.newFirstName,lastName:this.newLastName,relation:this.newRelation});console.log(a),this.newFirstName="",this.newLastName="",this.newRelation="",this.getHumans(),this.isAddNewFormVisible=!1}catch(e){console.error("Error setting relation:",e.response.data)}},closeForm(){this.newFirstName="",this.newLastName="",this.newRelation="",this.isAddNewFormVisible=!1},async getHumans(){try{const e=await J.Z.get("/api/users/getHumans");this.humans=e.data.data}catch(e){console.error("Error getting human records:",e.response.data)}},confirmDelete(){if(this.deleteHuman){const{firstName:e,lastName:a}=this.deleteHuman;J.Z.delete("/api/users/deleteHuman",{data:{firstName:e,lastName:a}}).then((()=>{this.deleteHuman=null,this.getHumans()})).catch((e=>{console.error("Error deleting human:",e.response.data)}))}},async updateHumanRecord(){if(this.updateHumanData){const{firstName:a,lastName:t,newFirstName:s,newLastName:i,relation:l}=this.updateHumanData;try{const e=await J.Z.put("/api/users/updateRelation",{firstName:a,lastName:t,newFirstName:s,newLastName:i,relation:l});console.log("Response from update API:",e),e&&e.data?(this.updateHumanData.newFirstName="",this.updateHumanData.newLastName="",this.updateHumanData.relation="",this.getHumans(),this.isUpdateFormVisible=!1):console.error("Invalid response from the update API:",e)}catch(e){console.error("Error updating human record:",e)}}},openUpdateForm(e){e&&(this.updateHuman=e,this.updateHumanData.firstName=e.firstName,this.updateHumanData.lastName=e.lastName,this.updateHumanData.newFirstName=e.firstName,this.updateHumanData.newLastName=e.lastName,this.updateHumanData.relation=e.relation,this.isUpdateFormVisible=!0)},cancelUpdate(){this.updateHuman=null,this.isUpdateFormVisible=!1},cancelDelete(){this.deleteHuman=null}},created(){this.getHumans()}},X=t(89);const $=(0,X.Z)(W,[["render",B],["__scopeId","data-v-2f818b2b"]]);var ee=$}}]);
//# sourceMappingURL=400.b0e6fc57.js.map